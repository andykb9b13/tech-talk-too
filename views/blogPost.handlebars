{{> navbar}}
<section id="blogPost-section">
  <div class="container">
    <div class="card mb-3">
      <div class="card-header bg-dark text-white">
        Featured Article
      </div>
      <div class="card-body">
        <h2 class="card-title">{{blog.post_title}}</h2>
        <p class="d-none" id="post-id">{{blog.post_id}}</p>
        <p>By: {{blog.user.username}}</p>
        <p>{{format_date blog.createdAt}}</p>
        <p class="card-text">{{blog.post_content}}</p>
      </div>
          {{#if sessionData.isLoggedIn}}
    <div>
      <button class="btn btn-secondary" id="edit-btn">Edit Article</button>
      <button class="btn btn-secondary" id="delete-btn">Delete Article</button>
    </div>
    {{/if}}
    </div>


{{#if sessionData.isLoggedIn}}
    <div class="container">
      <div class="card mb-3">
        <div class="card-header bg-dark text-white">
          Add a Comment
        </div>
        <div class="card-body d-flex flex-column">
          <textarea class="form-control mb-4" id="comment-text" rows="5" placeholder="Add Comment Here..."></textarea>
          <button class="btn btn-outline-secondary" id="comment-btn">Add Comment</button>
        </div>
      </div>
    </div>
    {{/if}}

    <div class="card">
      <div class="card-header bg-dark text-white">
        Comments
      </div>
      <div class="card-body">
        <ul>
          {{#each blog.comments as |comment|}}
            <p>{{comment.user_id}}</p> 
              <p>Date: {{format_date comment.createdAt}}</p>
            <li>{{comment.comment_text}}</li>
            <hr />
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
</section>

<script src="/js/blogPost.js"></script>